namespaceOverride: keycloak

image:
  registry: docker.io
  repository: bitnami/keycloak
  tag: 26.2.0-debian-12-r2
  pullPolicy: IfNotPresent
  pullSecrets: []
  debug: true

auth:
  adminUser: user
  adminPassword: ""
  existingSecret: "keycloak-admin-secret"
  passwordSecretKey: "admin-password"

tls:
  enabled: false
  autoGenerated: false
  existingSecret: ""
  usePem: false

httpRelativePath: "/"

service:
  type: ClusterIP
  http:
    enabled: true
  ports:
    http: 80
    https: 443
  sessionAffinity: None
  externalTrafficPolicy: Cluster

ingress:
  enabled: true
  ingressClassName: nginx
  hostname: keycloak.local
  hostnameStrict: false
  path: /
  pathType: ImplementationSpecific
  servicePort: http
  tls: true
  selfSigned: false
  annotations:
    kubernetes.io/ingress.class: nginx
    cert-manager.io/cluster-issuer: selfsigned-cluster-issuer
  extraHosts: []
  extraTls:
    - hosts:
        - keycloak.local
      secretName: keycloak.local-tls

adminIngress:
  enabled: false

postgresql:
  enabled: true
  auth:
    postgresPassword: ""
    username: bn_keycloak
    password: ""
    database: bitnami_keycloak
    existingSecret: "keycloak-db-secret"
    secretKeys:
      userPasswordKey: password
  architecture: standalone

replicaCount: 1
resources:
  requests:
    cpu: 250m
    memory: 512Mi
  limits:
    cpu: 500m
    memory: 1Gi

autoscaling:
  enabled: false

networkPolicy:
  enabled: true
  allowExternal: true
  allowExternalEgress: true

keycloakConfigCli:
  enabled: false

metrics:
  enabled: false

persistence:
  enabled: true
  storageClass: ""
  size: 8Gi

extraStartupArgs: "--http-relative-path=/"
extraEnvVars:
  - name: KC_HTTP_RELATIVE_PATH
    value: "/"

